<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>漠丶叹尘的空间</title>
  <link rel="icon" sizes="any" mask href="http://qzonestyle.gtimg.cn/qzone/v8/img/Qzone.svg">
  <link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>
  <div class="header">
    This is the head nav
  </div>
  <div class="topInfo">
    <span class="edit">编辑</span>
    <div class="zoneName">
      <h2>漠丶叹尘 的空间</h2>
      <p>知我者，谓我心忧。不知我者，谓我何求。</p>
    </div>
    <div class="support">
      <img src="image/support_1.png" alt="赞">
      <span class="num">7</span>
    </div>
    <div class="tips">7人赞过</div>
    <!-- bottom nav -->
    <div class="top_bottom">
      <div class="photo">
        <img src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124">
      </div>
      <div class="uploadphoto">修改头像</div>
      <div class="container">
        <ul class="section">
          <li>主页</li>
          <li>日志</li>
          <li>相册</li>
          <li>留言板</li>
          <li>说说</li>
          <li>个人档</li>
          <li>音乐</li>
          <li>更多</li>
        </ul>
      </div>
    </div>
  </div>
  <!-- 下面实现留言板功能 -->
  <div class="mainframe">
    <div class="title">留言板</div>
    <div class="message">主人寄语</div>
    <div class="info">
      这是主人留下的寄语~
    </div>
    <div class="content" contenteditable="true"></div>
    <input type="button" name="submit" value="发表" class="subbtn">
    <div class="numofmessage">留言(0)</div>
    <!-- 下面是留言区 -->
    <div class="msgFrame">
      <!-- 模板 模板引擎 -->
      <!-- <div class="content_1">
        <img class="name" src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124" alt="photo">
        <div class="mainInfo">
          <div class="userId"><a href="#">zipple</a></div>
          <div class="conInfo">
            这是一条留言。
          </div>
          <div class="time">2016-12-19 23:46:11</div>
        </div>
      </div> -->
    </div>
    <script>
      // - 只需要完成功能，页面已经给定
      // - 用户在留言框内输入内容，点击发表，就会在留言区域内添加一条留言的内容
      // - 留言的内容格式在“留言区”已经给定，发表留言的格式请根据这个创建
      // - 如果留言框的内容为空，那么弹出“您还没有输入任何内容”，就不会添加空的内容在留言区
      // - 注意:“留言区”的时间是当前的日期时间

      // 1.获取按钮 输入的内容  留言条数 msgFrame
      // 发表按钮
      let oBtn = document.querySelector('.subbtn');
      // 输入的内容的div
      let oContent = document.querySelector('.content');
      // 留言条数
      let numofmessage = document.querySelector('.numofmessage');
      // 装留言的盒子
      let msgFrame = document.querySelector('.msgFrame');
      // 2.给按钮添加一个点击
      oBtn.onclick = function () {
        // 2.1.1 获取留言内容
        let content = oContent.innerHTML;
        // console.log(content);
        // 2.1 判断一下内容是否为空 如果不为空
        if (content.trim().length != 0) {
          // 2.1.2 组装模板
          let str = msgFrame.innerHTML;
          // console.log(str);
          str += `
          <div class="content_1">
        <img class="name" src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124" alt="photo">
        <div class="mainInfo">
          <div class="userId"><a href="#">zipple</a></div>
          <div class="conInfo">
           ${content}
          </div>
          <div class="time">${new Date().getFullYear()}-${new Date().getMonth() + 1}-${new Date().getDate()} ${new Date().getHours()}:${new Date().getMinutes()}:${new Date().getSeconds()} </div>
        </div>
      </div>
          
          `;
          // 2.1.3 把弄好的东西防进 msgFrame
          // 2.1.4 获取msgFrame的子元素的个数 把个数给numofmessage
          msgFrame.innerHTML = str;
          numofmessage.innerHTML = `留言(${msgFrame.children.length})`
        } else {
          // 2.2 如果为空  您还没有输入任何内容
          alert("您还没有输入任何内容")
        }



      }
    </script>
</body>

</html>